<app-header [isModal]="true" title="Agregar Viaje"></app-header>

<ion-content>
    <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()" (keypress.enter)="submit()">

      <ion-avatar *ngIf="form.value.image">
        <img [src]="form.value.image" />
      </ion-avatar>

      <ion-icon class="image-icon" *ngIf="!form.value.image" name="image-outline"></ion-icon>
      <br>

      <ion-button (click)="takeImage()" mode="ios" size="small" shape="round">
        Tomar/Seleccionar
      </ion-button>
  
        <app-custom-input 
        autocomplete="address" 
        [control]="form.controls.from_address"
        type="text"
        label="Dirección actual"
        ></app-custom-input>
  
        <div class="validators" *ngIf="form.controls.from_address.errors && form.controls.from_address.touched">
          <div *ngIf="form.controls.from_address.errors?.['required']">La dirección es requerida</div>
          <div *ngIf="form.controls.from_address.errors?.['minlength']">La dirección debe tener al menos 4 caracteres</div>
        </div>

        <app-custom-input 
        autocomplete="address" 
        [control]="form.controls.to_address"
        type="text"
        label="Destino"
        ></app-custom-input>
  
        <div class="validators" *ngIf="form.controls.to_address.errors && form.controls.to_address.touched">
          <div *ngIf="form.controls.to_address.errors?.['required']">El destino es requerido</div>
          <div *ngIf="form.controls.to_address.errors?.['minlength']">El destino debe tener al menos 4 caracteres</div>
        </div>
  
        <ion-button mode="ios" class="ion-margin" type="submit">
          Agregar Viaje
          <ion-icon slot="end" name="add-circle-sharp"></ion-icon>
        </ion-button>
    
      </form>
</ion-content>